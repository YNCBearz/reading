# 7.5 注入橫切面關注點 - 7.7 小結

## 7.5 注入橫切面關注點 (Cross-cutting concerns injection)

如果需要處理如時間、例外或log的橫切面關注點時，
使用先前介紹的依賴性注入技術的程式碼的可讀性較差，也不易維護。

>*請參考程式碼 TimeLogger.php*

---
## 7.6 為應用程式建立測試 API (Building a test API for your application)

在開始替應用程式撰寫測試之後，為了可測試性或測試的可讀性與可維護性，你最終都會進行重構，建立輔助 (utility) 方法、輔助類別及很多基礎設計。

### 7.6.1 使用繼承類別繼承模式 (Using test class inheritance patterns)

> DRY (Don't Repeat Yourself) 原則

透過設計基底類別，可以應用如下列方式來緩解測試程式中常見的問題：

- 重用輔助方法和工廠方法。
- 在不同類別上執行同一組測試 （稍後討論）。
- 使用共用的 setup 和 teardown 程式碼 （對整合測試一樣適用）。
- 從基底類別繼承而來的子類提供測試指引，方便開發人員撰寫測試。

**三種基本模式：**
1. 抽象測試基礎結構類別

>*請參考程式碼 LogAnalyzer.php*

2. 測試模板類別

3. 抽象測試驅動類別

### 7.6.2 建立測試輔助類別和方法
### 7.6.3 把你的 API 介紹給開發人員
---
## 7.7 小結
---

