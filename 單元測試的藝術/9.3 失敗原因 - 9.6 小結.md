# 9.3 失敗原因 - 9.6 小結

## 9.3 失敗原因

### 9.3.1 缺乏驅動力

> 缺乏驅動力是主要因素

你需要抽出時間培訓別人，幫助他們解決問題，還要應付內部的政治鬥爭。
或者請一個外部顧問，可以幫助你持續推動變革的進展。

### 9.3.2 缺乏政策支援

如果你的老闆明確地告訴你不要進行變革，那就不要做了。

### 9.3.3 糟糕的實現和第一印象

你只有幾個月的時間讓事情步上正軌，還要讓高層看到你已經做出成果。
不要在不知道做什麼時，就開始推行單元測試。

可以先讀相關書籍或是請一個顧問，也不要浪費時間重複進行無意義的測試方法。

### 9.3.4 缺少團隊支持

如果沒有團隊支持，你的變革幾乎不可能成功。
因為你很難把新流程所需的額外工作和正常生活結合（政治問題）。

> 你應該和團隊進行溝通。討論所要進行的變革，並回答他們所提出的尖銳問題。

---

## 9.4 影響因素

六個影響因素：

|||
| :----- | :----- |
| 個人能力 | 這個人掌握執行工作的知識或技術嗎？ |
| 個人動機 | 這個人喜歡把事情做對嗎？當遇到困難能堅持嗎？ |
| 社會能力 | 你（或其他人）是否提供了這個人所需要的幫助、資訊和資源，尤其在關鍵時刻？ |
| 社會動機 | 這個人周圍的人是否鼓勵正確的行為，反對錯誤的行為？你（或其他人）是否有效地示範了什麼是正確的行為？ |
| 組織（環境）能力 | 是否存在環境因素（建置、預算等），讓行為更方便、容易和安全？是否有足夠的提示和協助的資訊？ |
| 組織動機 | 如果你（或其他人）做了正確（或錯誤）的事情，是否得到了清楚和有意義的回報（例如酬勞、獎金或激勵）？短期回報是否和你想達到的長期效果，以及想要強化（或避免）的行為一致？ |

---

## 9.5 質疑和回答

> 通常人們提出問題，是因為要實踐單元測試會對他們自身不利（政治問題）。

### 9.5.1 現有流程加入單元測試增加多少時間

作者舉例參考：

| 階段 | 不進行單元測試的團隊 | 進行單元測試的團隊 |
| :----- | :----- | :-----|
| 開發（撰寫程式碼） | 7天 | 14天 |
| 整合 | 7天 | 2天 |
| 測試和bug修復 | 測試，3天 | 測試，3天 |
|  | 修復bug，3天 | 修復bug，1天 |
|  | 測試，3天 | 測試，1天 |
|  | 修復bug，2天 | 修復bug，1天 |
|  | 測試，1天 | 測試，1天 |
|  | 總計：12天 | 總計：7天 |
| 整體交付時間 | 26天 | 23天 |
| 客戶發現的bug數目 | 71 | 11 |
|||

### 9.5.2 單元測試是否會搶了 QA 飯碗

> QA工作提供了第二層防線：使用者驗收層。

### 9.5.3 證明單元測試確實有效的方式

> 建立某種度量指標，檢查程式碼覆蓋率是個很好的起點。

### 9.5.4 單元測試有用的證據

作者無法提供具體研究，但有公司使用單元測試取得很好的結果。

### 9.5.5 QA 部門還是能夠找到 bug 的原因

> 單元測試不等於整合測試。

![](https://user-images.githubusercontent.com/88981/52933895-c0d47600-338f-11e9-9034-11e1ad0c42f1.gif)

### 9.5.6 我們有大量未經測試的程式碼，應該從哪裡開始

很多時候，任何團隊都能告訴你哪個組件的問題最多。
那麼你就可以從它開始。

### 9.5.7 我們使用了多種程式語言：單元測試是否可行

> 作者表示：在.NET的世界可行。

### 9.5.8 軟硬體結合的開發

> 使用模擬器進行測試。

### 9.5.9 確保測試沒有 bug 的方式

> 測試在該失敗的時候失敗，在該通過的時候通過。
> 使用測試驅動開發可以很好確保這點。

### 9.5.10 偵錯器已經證明我的程式沒問題，但還需要測試的原因

在程式碼的生命週期中，大部分是維護模式。
你需要使用單元測試，確保人們知道程式功能是否遭到破壞。

> 一項研究顯示：大部分的bug並不是來自程式碼本身，
> 而是人們之間的誤解。

### 9.5.11 測試驅動開發的必要性

只是方式的一種，你可以自行選擇。

---

## 9.6 小結

- 不要疏遠可能幫助自己的人。
- 準備好進行一場艱難的戰鬥。
- 理解影響力的重要。